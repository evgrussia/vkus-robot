# –î–µ—Ç–∞–ª—å–Ω—ã–µ User Stories: –í–∫—É—Å-–†–æ–±–æ—Ç MVP

---
title: "Detailed User Stories with Acceptance Criteria"
created_by: "Product Agent"
created_at: "2026-02-04"
version: "1.0"
phase: "Discovery"
---

## –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ Epic

- [Epic 1: Onboarding & Setup](#epic-1-onboarding--setup)
- [Epic 2: Core Flow (–§–æ—Ç–æ ‚Üí –†–µ—Ü–µ–ø—Ç)](#epic-2-core-flow-—Ñ–æ—Ç–æ--—Ä–µ—Ü–µ–ø—Ç)
- [Epic 3: Cooking Experience (WebApp)](#epic-3-cooking-experience-webapp)
- [Epic 4: –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è](#epic-4-–ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è)
- [Epic 5: Shopping List & Delivery](#epic-5-shopping-list--delivery)
- [Epic 6: History & Collections](#epic-6-history--collections)

---

## Epic 1: Onboarding & Setup

### US-001: –°—Ç–∞—Ä—Ç –±–æ—Ç–∞ –∏ –≤—ã–±–æ—Ä –¥–∏–µ—Ç—ã

**Story ID:** US-001
**Epic:** Onboarding
**Priority:** Must-Have
**Estimate:** 2 SP
**Dependencies:** –ù–µ—Ç

**User Story:**
```
As –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
I want –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞ –∏ —É–∫–∞–∑–∞—Ç—å —Å–≤–æ—é –¥–∏–µ—Ç—É
So that –ø–æ–ª—É—á–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã
```

**Acceptance Criteria:**

```gherkin
Scenario: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∞–ª /start
  When –±–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π —Ä–∞–∑
  Then –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
    """
    üëã –ü—Ä–∏–≤–µ—Ç! –Ø –í–∫—É—Å-–†–æ–±–æ—Ç ‚Äî —Ç–≤–æ–π –ª–∏—á–Ω—ã–π AI-–ø–æ–≤–∞—Ä.

    –Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ:
    ‚Ä¢ –ü—Ä–∏–¥—É–º–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã –∏–∑ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ
    ‚Ä¢ –ì–æ—Ç–æ–≤–∏—Ç—å —Å –ø–æ—à–∞–≥–æ–≤—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –∏ —Ç–∞–π–º–µ—Ä–∞–º–∏
    ‚Ä¢ –£–ø—Ä–∞–≤–ª—è—Ç—å —Ä–µ—Ü–µ–ø—Ç–æ–º –≥–æ–ª–æ—Å–æ–º (—Ä—É–∫–∏ –≥—Ä—è–∑–Ω—ã–µ? –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞!)
    ‚Ä¢ –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –±–ª—é–¥–∞ –ø–æ–¥ —Ç–≤–æ—é –¥–∏–µ—Ç—É

    –°–Ω–∞—á–∞–ª–∞ —Ä–∞—Å—Å–∫–∞–∂–∏: —Ç—ã –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ—à—å—Å—è –∫–∞–∫–æ–π-–ª–∏–±–æ –¥–∏–µ—Ç—ã?
    """
  And –ø–æ–∫–∞–∑–∞—Ç—å inline keyboard —Å –∫–Ω–æ–ø–∫–∞–º–∏:
    | –ù–µ—Ç –¥–∏–µ—Ç—ã |
    | –ö–µ—Ç–æ |
    | –í–µ–≥–∞–Ω |
    | –ü–∞–ª–µ–æ |
    | –ë–µ–∑–≥–ª—é—Ç–µ–Ω–æ–≤–∞—è |
    | DASH |
    | –°—Ä–µ–¥–∏–∑–µ–º–Ω–æ–º–æ—Ä—Å–∫–∞—è |
    | –ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–µ –≥–æ–ª–æ–¥–∞–Ω–∏–µ |
    | –§–ª–µ–∫—Å–∏—Ç–∞—Ä–∏–∞–Ω—Å–∫–∞—è |
    | MIND |
    | –ù–∏–∑–∫–æ—É–≥–ª–µ–≤–æ–¥–Ω–∞—è |
    | –î—Ä—É–≥–æ–µ (–≤–≤–µ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é) |

Scenario: –í—ã–±–æ—Ä –¥–∏–µ—Ç—ã –∏–∑ —Å–ø–∏—Å–∫–∞
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –¥–∏–µ—Ç
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ö–µ—Ç–æ"
  Then –¥–∏–µ—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ: diet = "keto"
  And –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ: "–û—Ç–ª–∏—á–Ω–æ! –ë—É–¥—É –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã –ø–æ–¥ –∫–µ—Ç–æ-–¥–∏–µ—Ç—É ü•ì"
  And –ø–µ—Ä–µ–π—Ç–∏ –∫ tutorial (US-002)

Scenario: –í–≤–æ–¥ –∫–∞—Å—Ç–æ–º–Ω–æ–π –¥–∏–µ—Ç—ã
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∞–ª "–î—Ä—É–≥–æ–µ"
  When –±–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–π –≤–≤–æ–¥
  Then –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç "–ë–µ–∑–ª–∞–∫—Ç–æ–∑–Ω–∞—è"
  And –¥–∏–µ—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è: diet = "–ë–µ–∑–ª–∞–∫—Ç–æ–∑–Ω–∞—è" (custom)
  And –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
  And –ø–µ—Ä–µ–π—Ç–∏ –∫ tutorial

Scenario: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∏–µ—Ç—ã —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –≤—ã–±—Ä–∞–ª –¥–∏–µ—Ç—É —Ä–∞–Ω–µ–µ
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç /settings
  Then –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –¥–∏–µ—Ç—É: "–°–µ–π—á–∞—Å: –ö–µ—Ç–æ"
  And –∫–Ω–æ–ø–∫–∞ "–ò–∑–º–µ–Ω–∏—Ç—å –¥–∏–µ—Ç—É"
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ò–∑–º–µ–Ω–∏—Ç—å –¥–∏–µ—Ç—É"
  Then –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–∏–µ—Ç —Å–Ω–æ–≤–∞
  And –ø–æ–∑–≤–æ–ª–∏—Ç—å –≤—ã–±—Ä–∞—Ç—å –Ω–æ–≤—É—é
```

**Technical Notes:**
- –î–∏–µ—Ç–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `User` (–ø–æ–ª–µ `diet: str`)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –¥–∏–µ—Ç—ã: enum –≤ –∫–æ–¥–µ (—Ç–æ–ø-10) + custom string
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è: –≤—Å–µ —Ç–µ–∫—Å—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- –≠–º–æ–¥–∑–∏ –≤ –∫–Ω–æ–ø–∫–∞—Ö –¥–ª—è visual appeal

**UI Mockup:**
```
[Telegram Bot]
üëã –ü—Ä–∏–≤–µ—Ç! –Ø –í–∫—É—Å-–†–æ–±–æ—Ç...

[Inline Keyboard]
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ù–µ—Ç –¥–∏–µ—Ç—ã      ‚îÇ  –ö–µ—Ç–æ           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –í–µ–≥–∞–Ω          ‚îÇ  –ü–∞–ª–µ–æ          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –ë–µ–∑–≥–ª—é—Ç–µ–Ω–æ–≤–∞—è  ‚îÇ  DASH           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ...            ‚îÇ  ...            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### US-002: Tutorial (–ø–µ—Ä–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)

**Story ID:** US-002
**Epic:** Onboarding
**Priority:** Should-Have
**Estimate:** 1 SP

**User Story:**
```
As –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
I want –ø–æ–Ω—è—Ç—å –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–æ—Ç–æ–º
So that —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–≤—ã–π —Ä–µ—Ü–µ–ø—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
```

**Acceptance Criteria:**

```gherkin
Scenario: Tutorial –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –¥–∏–µ—Ç—ã
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–æ–ª—å–∫–æ —á—Ç–æ –≤—ã–±—Ä–∞–ª –¥–∏–µ—Ç—É
  When tutorial –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è
  Then –ø–æ–∫–∞–∑–∞—Ç—å step 1/3:
    """
    üì∏ –®–∞–≥ 1: –°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫

    –û—Ç–∫—Ä–æ–π —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫ –∏ —Å–¥–µ–ª–∞–π —Ñ–æ—Ç–æ. –ü–æ—Å—Ç–∞—Ä–∞–π—Å—è, —á—Ç–æ–±—ã –ø—Ä–æ–¥—É–∫—Ç—ã –±—ã–ª–∏ –≤–∏–¥–Ω—ã –∫—Ä—É–ø–Ω—ã–º –ø–ª–∞–Ω–æ–º –∏ —Ö–æ—Ä–æ—à–æ –æ—Å–≤–µ—â–µ–Ω—ã.

    [–ü—Ä–∏–º–µ—Ä —Ñ–æ—Ç–æ: —Ö–æ—Ä–æ—à–∏–π —Ä–∞–∫—É—Ä—Å]
    """
  And –∫–Ω–æ–ø–∫–∞ "–î–∞–ª–µ–µ ‚Üí"

  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–î–∞–ª–µ–µ"
  Then –ø–æ–∫–∞–∑–∞—Ç—å step 2/3:
    """
    ü§ñ –®–∞–≥ 2: –Ø —Ä–∞—Å–ø–æ–∑–Ω–∞—é –ø—Ä–æ–¥—É–∫—Ç—ã

    –ú–æ–π AI –æ–ø—Ä–µ–¥–µ–ª–∏—Ç —á—Ç–æ —É —Ç–µ–±—è –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç 3-5 —Ä–µ—Ü–µ–ø—Ç–æ–≤. –≠—Ç–æ –∑–∞–π–º—ë—Ç ~30 —Å–µ–∫—É–Ω–¥.

    –¢—ã —Å–º–æ–∂–µ—à—å –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤, –µ—Å–ª–∏ —è –æ—à–∏–±—É—Å—å.
    """
  And –∫–Ω–æ–ø–∫–∞ "–î–∞–ª–µ–µ ‚Üí"

  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–î–∞–ª–µ–µ"
  Then –ø–æ–∫–∞–∑–∞—Ç—å step 3/3:
    """
    üë®‚Äçüç≥ –®–∞–≥ 3: –ì–æ—Ç–æ–≤—å —Å –≥–æ–ª–æ—Å–æ–º –∏ —Ç–∞–π–º–µ—Ä–∞–º–∏

    –í—ã–±–µ—Ä–∏ —Ä–µ—Ü–µ–ø—Ç ‚Üí –æ—Ç–∫—Ä–æ–π –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

    üé§ –ì–æ–≤–æ—Ä–∏ "–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥" ‚Üí –ª–∏—Å—Ç–∞–π —Ä–µ—Ü–µ–ø—Ç –≥–æ–ª–æ—Å–æ–º
    ‚è∞ –¢–∞–π–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

    –ì–æ—Ç–æ–≤ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å?
    """
  And –∫–Ω–æ–ø–∫–∏: "–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å üöÄ" | "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"

Scenario: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç tutorial
  Given tutorial –Ω–∞ –ª—é–±–æ–º —à–∞–≥–µ
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"
  Then —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–ª–∞–≥: tutorial_skipped = true
  And –ø–µ—Ä–µ–π—Ç–∏ –∫ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–æ—Ç–æ (US-003)

Scenario: –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –ø–æ–∫–∞–∑ tutorial
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∑–∞–≤–µ—Ä—à–∏–ª tutorial
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç /help
  Then –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã:
    """
    /start ‚Äî –ù–∞—á–∞—Ç—å —Å–Ω–∞—á–∞–ª–∞
    /tutorial ‚Äî –ü–æ–∫–∞–∑–∞—Ç—å tutorial —Å–Ω–æ–≤–∞
    /settings ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–¥–∏–µ—Ç–∞)
    /history ‚Äî –ò—Å—Ç–æ—Ä–∏—è —Ä–µ—Ü–µ–ø—Ç–æ–≤
    /favorites ‚Äî –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
    """
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç /tutorial
  Then –ø–æ–∫–∞–∑–∞—Ç—å tutorial —Å–Ω–æ–≤–∞
```

**Technical Notes:**
- Tutorial state: —Ö—Ä–∞–Ω–∏—Ç—å –≤ –ø–∞–º—è—Ç–∏ (–Ω–µ –≤ –ë–î), –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π
- –ü—Ä–æ–ø—É—Å–∫ tutorial: –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- /help: –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–æ–º–∞–Ω–¥–∞

---

## Epic 2: Core Flow (–§–æ—Ç–æ ‚Üí –†–µ—Ü–µ–ø—Ç)

### US-003: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∞

**Story ID:** US-003
**Epic:** Core Flow
**Priority:** Must-Have
**Estimate:** 3 SP

**User Story:**
```
As –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
I want –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∞ –≤ –±–æ—Ç
So that –ø–æ–ª—É—á–∏—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã –∏–∑ –∏–º–µ—é—â–∏—Ö—Å—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤
```

**Acceptance Criteria:**

```gherkin
Scenario: –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≤–µ—Ä—à–∏–ª tutorial
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ç–æ (JPG/PNG/HEIC)
  Then –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç loading state:
    """
    üì∏ –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é —Ñ–æ—Ç–æ...
    ‚è≥ –≠—Ç–æ –∑–∞–π–º—ë—Ç ~30 —Å–µ–∫—É–Ω–¥
    """
  And —Ñ–æ—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω–æ (S3 / local storage)
  And —Ñ–æ—Ç–æ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ CV pipeline (US-004)

Scenario: –§–æ—Ç–æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ (>10MB)
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ç–æ 15MB
  When –±–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç —Ñ–æ—Ç–æ
  Then –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∂–∞—Ç—å –¥–æ 1024x1024px (–º–∞–∫—Å 5MB)
  And –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É

Scenario: –§–æ—Ç–æ —Å–ª–∏—à–∫–æ–º —Ä–∞–∑–º—ã—Ç–æ–µ (–Ω–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
  Given CV –º–æ–¥–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã (confidence <30%)
  When –∞–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω
  Then –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É:
    """
    ‚ùå –§–æ—Ç–æ —Å–ª–∏—à–∫–æ–º —Ä–∞–∑–º—ã—Ç–æ –∏–ª–∏ —Ç–µ–º–Ω–æ.

    –ü–æ–ø—Ä–æ–±—É–π:
    ‚Ä¢ –í–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ
    ‚Ä¢ –°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã –∫—Ä—É–ø–Ω–µ–µ
    ‚Ä¢ –£–±—Ä–∞—Ç—å –ª–∏—à–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã

    –°–¥–µ–ª–∞–π –Ω–æ–≤–æ–µ —Ñ–æ—Ç–æ üì∏
    """
  And –∫–Ω–æ–ø–∫–∞ "–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞"

Scenario: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–∏–ª –Ω–µ —Ñ–æ—Ç–æ (—Ç–µ–∫—Å—Ç, –≤–∏–¥–µ–æ)
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–∏–ª —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "–ø—Ä–∏–≤–µ—Ç"
  When –±–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
  Then –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É:
    """
    –û—Ç–ø—Ä–∞–≤—å —Ñ–æ—Ç–æ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∞ üì∏

    –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—ã:
    /help ‚Äî –ü–æ–º–æ—â—å
    /history ‚Äî –ú–æ–∏ —Ä–µ—Ü–µ–ø—Ç—ã
    """

Scenario: –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –Ω–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç)
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∑–∞–≥—Ä—É–∂–∞–ª —Ñ–æ—Ç–æ —Ä–∞–Ω–µ–µ
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–æ–≤–æ–µ —Ñ–æ—Ç–æ
  Then –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –æ–±—ã—á–Ω–æ (–∑–∞–º–µ–Ω–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–µ–µ)
  And –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å tutorial
```

**Technical Notes:**
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: JPG, PNG, HEIC (auto-convert)
- –°–∂–∞—Ç–∏–µ: PIL/Pillow (Python) –∏–ª–∏ Sharp (Node.js)
- –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ: —É–¥–∞–ª–∏—Ç—å —Ñ–æ—Ç–æ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (GDPR compliance)
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–∞—ë—Ç —Å–æ–≥–ª–∞—Å–∏–µ ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –º–æ–¥–µ–ª–∏

**Performance Requirements:**
- Upload time: <5 —Å–µ–∫ (–¥–∞–∂–µ –¥–ª—è 10MB —Ñ–æ—Ç–æ)
- –°–∂–∞—Ç–∏–µ: <2 —Å–µ–∫

---

### US-004: –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤

**Story ID:** US-004
**Epic:** Core Flow
**Priority:** Must-Have
**Estimate:** 5 SP
**Dependencies:** CV –º–æ–¥–µ–ª—å (YOLOv8) –≥–æ—Ç–æ–≤–∞

**User Story:**
```
As —Å–∏—Å—Ç–µ–º–∞
I want —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã –Ω–∞ —Ñ–æ—Ç–æ
So that –ø–µ—Ä–µ–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ LLM –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ—Ü–µ–ø—Ç–æ–≤
```

**Acceptance Criteria:**

```gherkin
Scenario: –£—Å–ø–µ—à–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ (>3 –ø—Ä–æ–¥—É–∫—Ç–∞)
  Given —Ñ–æ—Ç–æ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–æ
  When CV –º–æ–¥–µ–ª—å (YOLOv8) –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ñ–æ—Ç–æ
  Then —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –º–∏–Ω–∏–º—É–º 3 –ø—Ä–æ–¥—É–∫—Ç–∞
  And –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞: –Ω–∞–∑–≤–∞–Ω–∏–µ + confidence score
  And –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ confidence (—É–±—ã–≤–∞–Ω–∏–µ)
  And –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–ø–∏—Å–æ–∫:
    """
    ‚úÖ –Ø —Ä–∞—Å–ø–æ–∑–Ω–∞–ª –ø—Ä–æ–¥—É–∫—Ç—ã:

    ü•© –ö—É—Ä–∏—Ü–∞ (98%)
    ü•ï –ú–æ—Ä–∫–æ–≤—å (95%)
    üßÖ –õ—É–∫ (92%)
    üçö –†–∏—Å (88%)
    ü•õ –ú–æ–ª–æ–∫–æ (85%)

    –í—Å—ë –≤–µ—Ä–Ω–æ?
    """
  And –∫–Ω–æ–ø–∫–∏: "–í—Å—ë –≤–µ—Ä–Ω–æ ‚úÖ" | "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å ‚úèÔ∏è"

Scenario: –ú–∞–ª–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ (<3)
  Given CV –º–æ–¥–µ–ª—å —Ä–∞—Å–ø–æ–∑–Ω–∞–ª–∞ —Ç–æ–ª—å–∫–æ 1-2 –ø—Ä–æ–¥—É–∫—Ç–∞
  When –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
  Then –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:
    """
    ü§î –Ø —Ä–∞—Å–ø–æ–∑–Ω–∞–ª –º–∞–ª–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤:

    ü•© –ö—É—Ä–∏—Ü–∞ (95%)

    –í–æ–∑–º–æ–∂–Ω–æ, —Ñ–æ—Ç–æ –Ω–µ—É–¥–∞—á–Ω–æ–µ. –•–æ—á–µ—à—å:
    ‚Ä¢ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã –≤—Ä—É—á–Ω—É—é (–Ω–∞–ø–∏—à–∏ —Å–ø–∏—Å–∫–æ–º)
    ‚Ä¢ –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤–æ–µ —Ñ–æ—Ç–æ üì∏
    """
  And –∫–Ω–æ–ø–∫–∏: "–î–æ–±–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é" | "–ù–æ–≤–æ–µ —Ñ–æ—Ç–æ"

Scenario: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"
  Then –ø–æ–∫–∞–∑–∞—Ç—å inline keyboard —Å –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ (–∫–∞–∂–¥—ã–π –ø—Ä–æ–¥—É–∫—Ç = –∫–Ω–æ–ø–∫–∞):
    """
    –£–±–µ—Ä–∏ –ª–∏—à–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã (–Ω–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É):

    [‚ùå –ö—É—Ä–∏—Ü–∞] [‚ùå –ú–æ—Ä–∫–æ–≤—å] [‚ùå –õ—É–∫] [‚ùå –†–∏—Å] [‚ùå –ú–æ–ª–æ–∫–æ]

    –ò–ª–∏ –¥–æ–±–∞–≤—å –ø—Ä–æ–¥—É–∫—Ç—ã —Ç–µ–∫—Å—Ç–æ–º:
    """
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "‚ùå –ú–æ–ª–æ–∫–æ"
  Then —É–¥–∞–ª–∏—Ç—å "–ú–æ–ª–æ–∫–æ" –∏–∑ —Å–ø–∏—Å–∫–∞
  And –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫

  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç "—è–π—Ü–∞, —Å—ã—Ä"
  Then –¥–æ–±–∞–≤–∏—Ç—å "–Ø–π—Ü–∞" –∏ "–°—ã—Ä" –≤ —Å–ø–∏—Å–æ–∫
  And –ø–æ–∫–∞–∑–∞—Ç—å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
  And –∫–Ω–æ–ø–∫–∞ "–ì–æ—Ç–æ–≤–æ"

Scenario: –ù–∏–∑–∫–∞—è confidence (<80% –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
  Given CV –º–æ–¥–µ–ª—å –Ω–µ —É–≤–µ—Ä–µ–Ω–∞ –≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–∞—Ö
  When average confidence <80%
  Then –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:
    """
    ‚ö†Ô∏è –Ø –Ω–µ —É–≤–µ—Ä–µ–Ω –≤ —Ç–æ–º, —á—Ç–æ –≤–∏–∂—É.

    –†–∞—Å–ø–æ–∑–Ω–∞–Ω–æ:
    ü•© –ú—è—Å–æ? (60%)
    ü•ï –û–≤–æ—â? (55%)

    –†–µ–∫–æ–º–µ–Ω–¥—É—é:
    ‚Ä¢ –°–¥–µ–ª–∞—Ç—å –Ω–æ–≤–æ–µ —Ñ–æ—Ç–æ (–ª—É—á—à–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ)
    ‚Ä¢ –ò–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã –≤—Ä—É—á–Ω—É—é
    """
  And –∫–Ω–æ–ø–∫–∏: "–ù–æ–≤–æ–µ —Ñ–æ—Ç–æ" | "–í–≤–µ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é"
```

**Technical Notes:**
- CV –º–æ–¥–µ–ª—å: YOLOv8 fine-tuned –Ω–∞ —Ä—É—Å—Å–∫–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–∞—Ö
- Confidence threshold: –º–∏–Ω–∏–º—É–º 80% –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: 50 –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–º—è—Å–æ, –æ–≤–æ—â–∏, —Ñ—Ä—É–∫—Ç—ã, –º–æ–ª–æ—á–∫–∞, –∫—Ä—É–ø—ã, –∏ —Ç.–¥.)
- Fallback: –µ—Å–ª–∏ CV –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç ‚Üí —Ä—É—á–Ω–æ–π –≤–≤–æ–¥

**Performance Requirements:**
- CV processing time: <10 —Å–µ–∫
- Accuracy: >85% (target)

**Data Model:**
```python
class RecognizedProduct:
    name: str  # "–ö—É—Ä–∏—Ü–∞"
    confidence: float  # 0.98
    category: str  # "–ú—è—Å–æ"
    bbox: Optional[dict]  # {x, y, w, h} –¥–ª—è debugging
```

---

### US-005: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ—Ü–µ–ø—Ç–æ–≤ —á–µ—Ä–µ–∑ LLM

**Story ID:** US-005
**Epic:** Core Flow
**Priority:** Must-Have
**Estimate:** 8 SP

**User Story:**
```
As —Å–∏—Å—Ç–µ–º–∞
I want —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å 3-5 —Ä–µ—Ü–µ–ø—Ç–æ–≤ –∏–∑ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
So that –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–π—Å—è
```

**Acceptance Criteria:**

```gherkin
Scenario: –£—Å–ø–µ—à–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ—Ü–µ–ø—Ç–æ–≤
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: ["–ö—É—Ä–∏—Ü–∞", "–ú–æ—Ä–∫–æ–≤—å", "–õ—É–∫", "–†–∏—Å"]
  And –¥–∏–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: "–ö–µ—Ç–æ"
  When LLM (GPT-4o via OpenRouter) –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ—Ü–µ–ø—Ç—ã
  Then —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å 3-5 —Ä–µ—Ü–µ–ø—Ç–æ–≤
  And –∫–∞–∂–¥—ã–π —Ä–µ—Ü–µ–ø—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:
    - –ù–∞–∑–≤–∞–Ω–∏–µ (–¥–æ 50 —Å–∏–º–≤–æ–ª–æ–≤)
    - –í—Ä–µ–º—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è (–º–∏–Ω—É—Ç—ã)
    - –°–ª–æ–∂–Ω–æ—Å—Ç—å (–õ–µ–≥–∫–æ/–°—Ä–µ–¥–Ω–µ/–°–ª–æ–∂–Ω–æ)
    - –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (1-2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
    - –ö–ë–ñ–£ (–∫–∞–ª–æ—Ä–∏–∏, –±–µ–ª–∫–∏, –∂–∏—Ä—ã, —É–≥–ª–µ–≤–æ–¥—ã) –Ω–∞ –ø–æ—Ä—Ü–∏—é
  And –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å <60 —Å–µ–∫—É–Ω–¥ (SLA)
  And –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∫–∞—Ä—Ç–æ—á–∫–∏ —Ä–µ—Ü–µ–ø—Ç–æ–≤

Scenario: –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ä–µ—Ü–µ–ø—Ç–∞ –ø–æ–¥ –¥–∏–µ—Ç—É
  Given –¥–∏–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: "–í–µ–≥–∞–Ω"
  When LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ—Ü–µ–ø—Ç
  Then –∏—Å–∫–ª—é—á–∏—Ç—å –≤—Å–µ –∂–∏–≤–æ—Ç–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
  And –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
  And –¥–æ–±–∞–≤–∏—Ç—å badge: "üå± –í–µ–≥–∞–Ω—Å–∫–∏–π"

  Example (–ö–µ—Ç–æ):
    Given –ø—Ä–æ–¥—É–∫—Ç—ã: ["–ö—É—Ä–∏—Ü–∞", "–ë—Ä–æ–∫–∫–æ–ª–∏", "–°—ã—Ä"]
    Then —Ä–µ—Ü–µ–ø—Ç: "–ö—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞ —Å –±—Ä–æ–∫–∫–æ–ª–∏ –∏ —Å—ã—Ä–æ–º" (–Ω–∏–∑–∫–æ—É–≥–ª–µ–≤–æ–¥–Ω—ã–π)
    And —É–≥–ª–µ–≤–æ–¥—ã <10–≥ –Ω–∞ –ø–æ—Ä—Ü–∏—é
    And badge: "ü•ì –ö–µ—Ç–æ"

Scenario: –õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø—Ä–µ–≤—ã—à–µ–Ω–∞ (>60 —Å–µ–∫)
  Given LLM –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –±–æ–ª–µ–µ 60 —Å–µ–∫—É–Ω–¥
  When timeout
  Then –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:
    """
    ‚è≥ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –æ–±—ã—á–Ω–æ–≥–æ...

    –Ø –ø—Ä–∏—à–ª—é —Ä–µ—Ü–µ–ø—Ç—ã —á–µ—Ä–µ–∑ –º–∏–Ω—É—Ç—É. –ú–æ–∂–µ—à—å –∑–∞–∫—Ä—ã—Ç—å –±–æ—Ç–∞, —è —É–≤–µ–¥–æ–º–ª—é —Ç–µ–±—è üîî
    """
  And –¥–æ–∂–¥–∞—Ç—å—Å—è –æ—Ç–≤–µ—Ç–∞ LLM
  And –æ—Ç–ø—Ä–∞–≤–∏—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å —Ä–µ—Ü–µ–ø—Ç–∞–º–∏

Scenario: –û—à–∏–±–∫–∞ API (OpenRouter –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)
  Given OpenRouter API –≤–µ—Ä–Ω—É–ª–∞ –æ—à–∏–±–∫—É (5xx, timeout)
  When retry 2 —Ä–∞–∑–∞
  And –æ—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
  Then –ø–æ–∫–∞–∑–∞—Ç—å fallback —Å–æ–æ–±—â–µ–Ω–∏–µ:
    """
    ‚ùå –ù–µ –º–æ–≥—É —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã —Å–µ–π—á–∞—Å.

    –ü–æ–ø—Ä–æ–±—É–π —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç –∏–ª–∏ –Ω–∞–ø–∏—à–∏ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É: @vkusrobot_support
    """
  And –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫—É (Sentry)

Scenario: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –¥–ª—è —Ä–µ—Ü–µ–ø—Ç–∞
  Given —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: ["–°–æ–ª—å"]
  When LLM –ø—ã—Ç–∞–µ—Ç—Å—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç
  Then –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:
    """
    ü§î –ò–∑ –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ —Å–ª–æ–∂–Ω–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –±–ª—é–¥–æ.

    –î–æ–±–∞–≤—å –µ—â—ë –ø—Ä–æ–¥—É–∫—Ç—ã –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏ –Ω–æ–≤–æ–µ —Ñ–æ—Ç–æ.
    """
  And –∫–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã"
```

**Technical Notes:**
- LLM: GPT-4o (primary), Claude 3.5 Sonnet (fallback), Gemini Flash (fast mode)
- Prompt engineering: –≤–∫–ª—é—á–∏—Ç—å –¥–∏–µ—Ç—É, —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤, —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ (JSON)
- Retry logic: 2 –ø–æ–ø—ã—Ç–∫–∏ —Å exponential backoff (1 —Å–µ–∫, 2 —Å–µ–∫)
- Timeout: 60 —Å–µ–∫ (hard limit)
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ç–æ–ø-100 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –ø—Ä–æ–¥—É–∫—Ç–æ–≤ ‚Üí pre-generated —Ä–µ—Ü–µ–ø—Ç—ã (20% cache hit rate)

**Prompt Structure:**
```yaml
System:
  role: "–¢—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —à–µ—Ñ-–ø–æ–≤–∞—Ä –∏ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç"
  task: "–ì–µ–Ω–µ—Ä–∏—Ä—É–π —Ä–µ—Ü–µ–ø—Ç—ã –∏–∑ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤"

User:
  products: ["–ö—É—Ä–∏—Ü–∞", "–ú–æ—Ä–∫–æ–≤—å", "–õ—É–∫", "–†–∏—Å"]
  diet: "–ö–µ—Ç–æ"
  output_format: JSON
  requirements:
    - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Ü–µ–ø—Ç–æ–≤: 3-5
    - –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –¥–∏–µ—Ç—É: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
    - –ö–ë–ñ–£: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
    - –í—Ä–µ–º—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
```

**Performance Requirements:**
- P50 latency: <20 —Å–µ–∫
- P95 latency: <30 —Å–µ–∫
- P99 latency: <60 —Å–µ–∫ (SLA)

---

### US-006: –í—ã–±–æ—Ä —Ä–µ—Ü–µ–ø—Ç–∞

**Story ID:** US-006
**Epic:** Core Flow
**Priority:** Must-Have
**Estimate:** 3 SP

**User Story:**
```
As –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
I want –≤—ã–±—Ä–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç –∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö
So that –æ—Ç–∫—Ä—ã—Ç—å –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
```

**Acceptance Criteria:**

```gherkin
Scenario: –ü–æ–∫–∞–∑ –∫–∞—Ä—Ç–æ—á–µ–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤
  Given LLM —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª 3 —Ä–µ—Ü–µ–ø—Ç–∞
  When –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
  Then –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞ –ø–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É:
    """
    üçó –ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ —Å –æ–≤–æ—â–∞–º–∏ –Ω–∞ —Å–∫–æ–≤–æ—Ä–æ–¥–µ

    ‚è∞ 25 –º–∏–Ω—É—Ç | üü¢ –õ–µ–≥–∫–æ | ü•ì –ö–µ—Ç–æ

    –°–æ—á–Ω–æ–µ –∫—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ —Å –º–æ—Ä–∫–æ–≤—å—é –∏ –ª—É–∫–æ–º, –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —É–∂–∏–Ω–∞.

    üìä –ö–ë–ñ–£ –Ω–∞ –ø–æ—Ä—Ü–∏—é:
    450 –∫–∫–∞–ª | –ë: 40–≥ | –ñ: 25–≥ | –£: 8–≥

    [–ì–æ—Ç–æ–≤–∏—Ç—å üë®‚Äçüç≥]
    """
  And –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ 3-5 –∫–∞—Ä—Ç–æ—á–µ–∫ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ
  And –≤–Ω–∏–∑—É –∫–Ω–æ–ø–∫–∏: "–î—Ä—É–≥–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã üîÑ" | "–ù–æ–≤–æ–µ —Ñ–æ—Ç–æ üì∏"

Scenario: –í—ã–±–æ—Ä —Ä–µ—Ü–µ–ø—Ç–∞
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ —Ä–µ—Ü–µ–ø—Ç–æ–≤
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ì–æ—Ç–æ–≤–∏—Ç—å" –Ω–∞ —Ä–µ—Ü–µ–ø—Ç–µ #2
  Then —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—ã–±–æ—Ä: selected_recipe_id = 2
  And –æ—Ç–∫—Ä—ã—Ç—å WebApp —Å –ø–æ—à–∞–≥–æ–≤—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ (US-007)
  And –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ: recipe_selected

Scenario: –ó–∞–ø—Ä–æ—Å –¥—Ä—É–≥–∏—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ (regenerate)
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç 3 —Ä–µ—Ü–µ–ø—Ç–∞
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–î—Ä—É–≥–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã"
  Then –ø–æ–∫–∞–∑–∞—Ç—å loading: "–ì–µ–Ω–µ—Ä–∏—Ä—É—é –Ω–æ–≤—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã... ‚è≥"
  And –≤—ã–∑–≤–∞—Ç—å LLM —Å–Ω–æ–≤–∞ —Å —Ç–µ–º–∏ –∂–µ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏
  And –ø–æ–∫–∞–∑–∞—Ç—å –Ω–æ–≤—ã–µ 3-5 —Ä–µ—Ü–µ–ø—Ç–æ–≤
  And —Å—Ç–∞—Ä—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã –ù–ï –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è

Scenario: –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ç–æ (restart flow)
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ä–µ—Ü–µ–ø—Ç—ã
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ù–æ–≤–æ–µ —Ñ–æ—Ç–æ"
  Then –ø–æ–∫–∞–∑–∞—Ç—å: "–û—Ç–ø—Ä–∞–≤—å –Ω–æ–≤–æ–µ —Ñ–æ—Ç–æ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∞ üì∏"
  And –æ—á–∏—Å—Ç–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (–ø—Ä–æ–¥—É–∫—Ç—ã, —Ä–µ—Ü–µ–ø—Ç—ã)
  And –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ US-003 (–∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ)
```

**Technical Notes:**
- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ä–µ—Ü–µ–ø—Ç–æ–≤: Telegram inline keyboard + —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
- –≠–º–æ–¥–∑–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ—Å—Ç–∏: ‚è∞ (–≤—Ä–µ–º—è), üü¢/üü°/üî¥ (—Å–ª–æ–∂–Ω–æ—Å—Ç—å), ü•ì/üå±/ü•ó (–¥–∏–µ—Ç–∞)
- WebApp –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Telegram WebApp API
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: amplitude/mixpanel event `recipe_selected`

**UI Mockup:**
```
[Telegram Bot]
‚úÖ –í–æ—Ç —á—Ç–æ —è –ø—Ä–∏–¥—É–º–∞–ª:

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üçó –ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ —Å –æ–≤–æ—â–∞–º–∏      ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ ‚è∞ 25 –º–∏–Ω | üü¢ –õ–µ–≥–∫–æ | ü•ì –ö–µ—Ç–æ ‚îÇ
‚îÇ 450 –∫–∫–∞–ª | –ë:40–≥ –ñ:25–≥ –£:8–≥   ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ      [–ì–æ—Ç–æ–≤–∏—Ç—å üë®‚Äçüç≥]            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

[–î—Ä—É–≥–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã üîÑ] [–ù–æ–≤–æ–µ —Ñ–æ—Ç–æ üì∏]
```

---

## Epic 3: Cooking Experience (WebApp)

### US-007: –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ WebApp

**Story ID:** US-007
**Epic:** Cooking Experience
**Priority:** Must-Have
**Estimate:** 8 SP

**User Story:**
```
As –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
I want –≤–∏–¥–µ—Ç—å —Ä–µ—Ü–µ–ø—Ç —Å –ø–æ—à–∞–≥–æ–≤—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
So that –≥–æ—Ç–æ–≤–∏—Ç—å –±–µ–∑ –ø—É—Ç–∞–Ω–∏—Ü—ã
```

**Acceptance Criteria:**

```gherkin
Scenario: –û—Ç–∫—Ä—ã—Ç–∏–µ WebApp —Å —Ä–µ—Ü–µ–ø—Ç–æ–º
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª —Ä–µ—Ü–µ–ø—Ç "–ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ —Å –æ–≤–æ—â–∞–º–∏"
  When WebApp –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
  Then –ø–æ–∫–∞–∑–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫: "–ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ —Å –æ–≤–æ—â–∞–º–∏"
  And —Ñ–æ—Ç–æ –±–ª—é–¥–∞ (AI-generated –∏–ª–∏ stock)
  And —Å–µ–∫—Ü–∏–∏:
    1. –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã (—Å —á–µ–∫–±–æ–∫—Å–∞–º–∏)
    2. –ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ (–ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)
    3. –ö–ë–ñ–£
  And –Ω–∞–≤–∏–≥–∞—Ü–∏—è: "–ù–∞–∑–∞–¥" | "–ù–∞—á–∞—Ç—å –≥–æ—Ç–æ–≤–∏—Ç—å"

Scenario: –°–µ–∫—Ü–∏—è –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ WebApp
  When —Å–º–æ—Ç—Ä–∏—Ç —Å–µ–∫—Ü–∏—é "–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã"
  Then –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤:
    """
    üõí –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã (–Ω–∞ 2 –ø–æ—Ä—Ü–∏–∏):

    ‚òê –ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ ‚Äî 300–≥
    ‚òê –ú–æ—Ä–∫–æ–≤—å ‚Äî 1 —à—Ç
    ‚òê –õ—É–∫ ‚Äî 1 —à—Ç
    ‚òê –†–∏—Å ‚Äî 100–≥
    ‚òê –°–æ–ª—å ‚Äî –ø–æ –≤–∫—É—Å—É
    ‚òê –ú–∞—Å–ª–æ —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ–µ ‚Äî 2 —Å—Ç.–ª.
    """
  And —á–µ–∫–±–æ–∫—Å—ã (–º–æ–∂–Ω–æ –æ—Ç–º–µ—á–∞—Ç—å —á—Ç–æ —É–∂–µ –¥–æ–±–∞–≤–∏–ª)
  And –∫–Ω–æ–ø–∫–∞ "–ü–æ—Ä—Ü–∏–∏: 2 ‚ñº" (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å)

Scenario: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ—Ä—Ü–∏–π
  Given —Å–µ–∫—Ü–∏—è "–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã"
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ü–æ—Ä—Ü–∏–∏: 2"
  Then –ø–æ–∫–∞–∑–∞—Ç—å dropdown: [1, 2, 3, 4, 6]
  When –≤—ã–±–∏—Ä–∞–µ—Ç "4"
  Then –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤:
    - –ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ: 300–≥ ‚Üí 600–≥
    - –ú–æ—Ä–∫–æ–≤—å: 1 —à—Ç ‚Üí 2 —à—Ç
    - ...
  And –æ–±–Ω–æ–≤–∏—Ç—å –ö–ë–ñ–£ (–Ω–∞ 4 –ø–æ—Ä—Ü–∏–∏)

Scenario: –°–µ–∫—Ü–∏—è –ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ (–ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∞–ª "–ù–∞—á–∞—Ç—å –≥–æ—Ç–æ–≤–∏—Ç—å"
  When –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å–µ–∫—Ü–∏—è "–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ"
  Then –ø–æ–∫–∞–∑–∞—Ç—å —à–∞–≥–∏ —Å –Ω–æ–º–µ—Ä–∞–º–∏:
    """
    –®–∞–≥ 1 –∏–∑ 8

    –ù–∞—Ä–µ–∂—å –∫—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ –∫—É–±–∏–∫–∞–º–∏.

    [–ù–∞–∑–∞–¥] [–î–∞–ª–µ–µ ‚Üí]
    """
  And –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä: 1/8 (12%)
  And navigation: –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"/"–î–∞–ª–µ–µ" –∏–ª–∏ swipe –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ

Scenario: –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —à–∞–≥–∞–º (–∫–Ω–æ–ø–∫–∏)
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —à–∞–≥–µ 1
  When –Ω–∞–∂–∏–º–∞–µ—Ç "–î–∞–ª–µ–µ"
  Then –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —à–∞–≥ 2
  And –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å: 2/8 (25%)

Scenario: –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —à–∞–≥–∞–º (swipe)
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —à–∞–≥–µ 2
  When swipe –≤–ª–µ–≤–æ (gesture)
  Then –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —à–∞–≥ 3

Scenario: –°–µ–∫—Ü–∏—è –ö–ë–ñ–£
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ WebApp
  When –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç –≤–Ω–∏–∑
  Then –ø–æ–∫–∞–∑–∞—Ç—å —Å–µ–∫—Ü–∏—é "–ö–ë–ñ–£":
    """
    üìä –ü–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å (–Ω–∞ 1 –ø–æ—Ä—Ü–∏—é):

    –ö–∞–ª–æ—Ä–∏–∏: 450 –∫–∫–∞–ª
    –ë–µ–ª–∫–∏: 40–≥ (35%)
    –ñ–∏—Ä—ã: 25–≥ (50%)
    –£–≥–ª–µ–≤–æ–¥—ã: 8–≥ (15%)

    [–î–∏–∞–≥—Ä–∞–º–º–∞: –∫—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –ë/–ñ/–£]
    """
```

**Technical Notes:**
- WebApp: React (Telegram WebApp SDK)
- –ß–µ–∫–±–æ–∫—Å—ã: –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î)
- Swipe navigation: react-swipeable –∏–ª–∏ custom gesture
- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä: CSS linear-gradient

**UI Mockup (WebApp):**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚Üê –ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ —Å –æ–≤–æ—â–∞–º–∏   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [–§–æ—Ç–æ –±–ª—é–¥–∞]                ‚îÇ
‚îÇ                             ‚îÇ
‚îÇ üõí –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã (2 –ø–æ—Ä—Ü–∏–∏)  ‚îÇ
‚îÇ ‚òê –ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ ‚Äî 300–≥      ‚îÇ
‚îÇ ‚òê –ú–æ—Ä–∫–æ–≤—å ‚Äî 1 —à—Ç           ‚îÇ
‚îÇ ...                         ‚îÇ
‚îÇ                             ‚îÇ
‚îÇ [–ù–∞—á–∞—Ç—å –≥–æ—Ç–æ–≤–∏—Ç—å üë®‚Äçüç≥]     ‚îÇ
‚îÇ                             ‚îÇ
‚îÇ üìä –ö–ë–ñ–£: 450 –∫–∫–∞–ª          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### US-008: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ç–∞–π–º–µ—Ä—ã (Killer Feature)

**Story ID:** US-008
**Epic:** Cooking Experience
**Priority:** Must-Have (Killer Feature)
**Estimate:** 5 SP

**User Story:**
```
As –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
I want –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–≤–∏—Ç—å —Ç–∞–π–º–µ—Ä—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≥–æ—Ç–æ–≤–∫–∏
So that –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–∏–≥–æ—Ä–µ–ª–æ
```

**Acceptance Criteria:**

```gherkin
Scenario: –®–∞–≥ —Å —Ç–∞–π–º–µ—Ä–æ–º
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —à–∞–≥–µ "–û–±–∂–∞—Ä—å –∫—É—Ä–∏—Ü—É –Ω–∞ —Å–∫–æ–≤–æ—Ä–æ–¥–µ 15 –º–∏–Ω—É—Ç"
  When –ø–∞—Ä—Å–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞ –Ω–∞—Ö–æ–¥–∏—Ç "15 –º–∏–Ω—É—Ç"
  Then –ø–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É "‚è∞ –°—Ç–∞—Ä—Ç —Ç–∞–π–º–µ—Ä (15:00)"
  And –∫–Ω–æ–ø–∫–∞ –≤–∏–¥–Ω–∞ –∫—Ä—É–ø–Ω–æ (tap target 44x44px)

Scenario: –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∫–Ω–æ–ø–∫—É "–°—Ç–∞—Ä—Ç —Ç–∞–π–º–µ—Ä"
  When –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É
  Then —Ç–∞–π–º–µ—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á—ë—Ç: 15:00 ‚Üí 14:59 ‚Üí ...
  And –ø–æ–∫–∞–∑–∞—Ç—å —Ç–∞–π–º–µ—Ä –∫—Ä—É–ø–Ω–æ (60px font)
  And progress bar (circular –∏–ª–∏ linear)
  And –∫–Ω–æ–ø–∫–∏: "‚è∏ –ü–∞—É–∑–∞" | "üîÑ –°–±—Ä–æ—Å" | "+1 –º–∏–Ω" | "+5 –º–∏–Ω"

Scenario: –¢–∞–π–º–µ—Ä –∏—Å—Ç–µ–∫–∞–µ—Ç
  Given —Ç–∞–π–º–µ—Ä –∑–∞–ø—É—â–µ–Ω
  When –≤—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ (00:00)
  Then:
    1. Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram: "‚è∞ –í—Ä–µ–º—è –≤—ã—à–ª–æ! –ü—Ä–æ–≤–µ—Ä—å –∫—É—Ä–∏—Ü—É."
    2. –ó–≤—É–∫–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ WebApp –æ—Ç–∫—Ä—ã—Ç)
    3. –í–∏–±—Ä–∞—Ü–∏—è (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è device)
  And –ø–æ–∫–∞–∑–∞—Ç—å overlay:
    """
    ‚è∞ –í—Ä–µ–º—è –≤—ã—à–ª–æ!

    –ü—Ä–æ–≤–µ—Ä—å –±–ª—é–¥–æ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É.

    [–î–∞–ª–µ–µ ‚Üí]
    """

Scenario: –ü–∞—É–∑–∞ —Ç–∞–π–º–µ—Ä–∞
  Given —Ç–∞–π–º–µ—Ä –∏–¥—ë—Ç: 10:30
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ü–∞—É–∑–∞"
  Then —Ç–∞–π–º–µ—Ä –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è: 10:30 (freeze)
  And –∫–Ω–æ–ø–∫–∞ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "‚ñ∂Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"
  When –Ω–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"
  Then —Ç–∞–π–º–µ—Ä –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è: 10:30 ‚Üí 10:29 ‚Üí ...

Scenario: –°–±—Ä–æ—Å —Ç–∞–π–º–µ—Ä–∞
  Given —Ç–∞–π–º–µ—Ä –Ω–∞ 05:45
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–°–±—Ä–æ—Å"
  Then —Ç–∞–π–º–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏: 15:00
  And –∫–Ω–æ–ø–∫–∞ "–°—Ç–∞—Ä—Ç" —Å–Ω–æ–≤–∞ –¥–æ—Å—Ç—É–ø–Ω–∞

Scenario: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ (+1 –º–∏–Ω, +5 –º–∏–Ω)
  Given —Ç–∞–π–º–µ—Ä –Ω–∞ 02:00
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "+5 –º–∏–Ω"
  Then —Ç–∞–π–º–µ—Ä: 02:00 ‚Üí 07:00

Scenario: –ù–µ—Å–∫–æ–ª—å–∫–æ —Ç–∞–π–º–µ—Ä–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —à–∞–≥–µ "–í–∞—Ä–∏—Ç—å —Ä–∏—Å 20 –º–∏–Ω—É—Ç"
  And —É–∂–µ –∏–¥—ë—Ç —Ç–∞–π–º–µ—Ä "–ö—É—Ä–∏—Ü–∞ 15:00"
  When –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Ç–æ—Ä–æ–π —Ç–∞–π–º–µ—Ä "–†–∏—Å 20:00"
  Then –ø–æ–∫–∞–∑–∞—Ç—å –æ–±–∞ —Ç–∞–π–º–µ—Ä–∞:
    """
    ‚è∞ –¢–∞–π–º–µ—Ä—ã:
    –ö—É—Ä–∏—Ü–∞: 12:30
    –†–∏—Å: 20:00
    """
  And —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –æ–±–æ–∏—Ö —Ç–∞–π–º–µ—Ä–æ–≤ –æ—Ç–¥–µ–ª—å–Ω–æ

Scenario: –¢–∞–π–º–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ background (WebApp –∑–∞–∫—Ä—ã—Ç)
  Given —Ç–∞–π–º–µ—Ä –∑–∞–ø—É—â–µ–Ω: 10:00
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–∫—Ä—ã–≤–∞–µ—Ç WebApp (—Å–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç Telegram)
  Then —Ç–∞–π–º–µ—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ background
  When –≤—Ä–µ–º—è –∏—Å—Ç–µ–∫–∞–µ—Ç
  Then push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç (–¥–∞–∂–µ –µ—Å–ª–∏ WebApp –∑–∞–∫—Ä—ã—Ç)
```

**Technical Notes:**
- –ü–∞—Ä—Å–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏: regex –¥–ª—è "15 –º–∏–Ω—É—Ç", "–ø–æ–ª—á–∞—Å–∞", "1 —á–∞—Å 30 –º–∏–Ω—É—Ç"
- Background timers: Web Workers –∏–ª–∏ Service Workers (PWA)
- Push notifications: Telegram Bot API (sendMessage)
- –ó–≤—É–∫: HTML5 Audio API (`new Audio('timer-beep.mp3').play()`)
- –í–∏–±—Ä–∞—Ü–∏—è: `navigator.vibrate([200, 100, 200])`

**Performance Requirements:**
- –¢–∞–π–º–µ—Ä —Ç–æ—á–Ω–æ—Å—Ç—å: ¬±1 —Å–µ–∫ (–¥–æ–ø—É—Å—Ç–∏–º–æ)
- Background —Ä–∞–±–æ—Ç–∞: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (–¥–∞–∂–µ –µ—Å–ª–∏ WebApp –∑–∞–∫—Ä—ã—Ç)

**UI Mockup (–¢–∞–π–º–µ—Ä –∞–∫—Ç–∏–≤–µ–Ω):**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –®–∞–≥ 3 –∏–∑ 8                  ‚îÇ
‚îÇ                             ‚îÇ
‚îÇ –û–±–∂–∞—Ä—å –∫—É—Ä–∏—Ü—É 15 –º–∏–Ω—É—Ç      ‚îÇ
‚îÇ                             ‚îÇ
‚îÇ      ‚è∞ 12:35               ‚îÇ
‚îÇ   ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óã‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ          ‚îÇ
‚îÇ   [‚è∏][üîÑ][+1][+5]          ‚îÇ
‚îÇ                             ‚îÇ
‚îÇ [–ù–∞–∑–∞–¥] [–î–∞–ª–µ–µ ‚Üí]          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### US-009: –ì–æ–ª–æ—Å–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (Killer Feature)

**Story ID:** US-009
**Epic:** Cooking Experience
**Priority:** Must-Have (Killer Feature)
**Estimate:** 8 SP

**User Story:**
```
As –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
I want —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–µ—Ü–µ–ø—Ç–æ–º –≥–æ–ª–æ—Å–æ–º
So that –Ω–µ —Ç—Ä–æ–≥–∞—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω –≥—Ä—è–∑–Ω—ã–º–∏ —Ä—É–∫–∞–º–∏
```

**Acceptance Criteria:**

```gherkin
Scenario: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ WebApp –Ω–∞ –ª—é–±–æ–º —à–∞–≥–µ
  When –≤–∏–¥–∏—Ç –∫–Ω–æ–ø–∫—É –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ üé§ (–≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞, floating button)
  And –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É
  Then –Ω–∞—á–∞—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ (Web Speech API)
  And –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä: "üé§ –°–ª—É—à–∞—é..."
  And recording indicator (–∞–Ω–∏–º–∞—Ü–∏—è –≤–æ–ª–Ω—ã)

Scenario: –ö–æ–º–∞–Ω–¥–∞ "–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥"
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —à–∞–≥–µ 2
  When –≥–æ–≤–æ—Ä–∏—Ç "–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥"
  Then —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –∫–æ–º–∞–Ω–¥—É (confidence >80%)
  And –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —à–∞–≥ 3
  And visual feedback: fade-in transition
  And –≥–æ–ª–æ—Å–æ–≤–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (TTS): "–®–∞–≥ —Ç—Ä–∏"

Scenario: –ö–æ–º–∞–Ω–¥–∞ "–ü—Ä–µ–¥—ã–¥—É—â–∏–π —à–∞–≥"
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —à–∞–≥–µ 5
  When –≥–æ–≤–æ—Ä–∏—Ç "–ü—Ä–µ–¥—ã–¥—É—â–∏–π —à–∞–≥"
  Then –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —à–∞–≥ 4

Scenario: –ö–æ–º–∞–Ω–¥–∞ "–ü–æ–≤—Ç–æ—Ä–∏"
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —à–∞–≥–µ "–ù–∞—Ä–µ–∂—å –ª—É–∫ –∫—É–±–∏–∫–∞–º–∏"
  When –≥–æ–≤–æ—Ä–∏—Ç "–ü–æ–≤—Ç–æ—Ä–∏"
  Then –æ–∑–≤—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç —à–∞–≥–∞ (TTS):
    "–ù–∞—Ä–µ–∂—å –ª—É–∫ –∫—É–±–∏–∫–∞–º–∏"

Scenario: –ö–æ–º–∞–Ω–¥–∞ "–ü–æ–≤—Ç–æ—Ä–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã"
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ —Ä–µ—Ü–µ–ø—Ç–∞
  When –≥–æ–≤–æ—Ä–∏—Ç "–ü–æ–≤—Ç–æ—Ä–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã"
  Then –æ–∑–≤—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ (TTS):
    "–ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ —Ç—Ä–∏—Å—Ç–∞ –≥—Ä–∞–º–º. –ú–æ—Ä–∫–æ–≤—å –æ–¥–Ω–∞ —à—Ç—É–∫–∞. –õ—É–∫..."

Scenario: –ö–æ–º–∞–Ω–¥–∞ "–ü–æ—Å—Ç–∞–≤—å —Ç–∞–π–º–µ—Ä –Ω–∞ X –º–∏–Ω—É—Ç"
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ –ª—é–±–æ–º —à–∞–≥–µ
  When –≥–æ–≤–æ—Ä–∏—Ç "–ü–æ—Å—Ç–∞–≤—å —Ç–∞–π–º–µ—Ä –Ω–∞ –¥–µ—Å—è—Ç—å –º–∏–Ω—É—Ç"
  Then —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å —á–∏—Å–ª–æ "10"
  And –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ç–∞–π–º–µ—Ä: 10:00
  And –≥–æ–ª–æ—Å–æ–≤–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ: "–¢–∞–π–º–µ—Ä –Ω–∞ –¥–µ—Å—è—Ç—å –º–∏–Ω—É—Ç –∑–∞–ø—É—â–µ–Ω"

Scenario: –ö–æ–º–∞–Ω–¥–∞ "–î–æ–±–∞–≤—å [–ø—Ä–æ–¥—É–∫—Ç] –≤ —Å–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫"
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ –ª—é–±–æ–º —à–∞–≥–µ
  When –≥–æ–≤–æ—Ä–∏—Ç "–î–æ–±–∞–≤—å –º—É–∫—É –≤ —Å–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫"
  Then —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å "–º—É–∫—É"
  And –¥–æ–±–∞–≤–∏—Ç—å "–ú—É–∫–∞" –≤ shopping list
  And –≥–æ–ª–æ—Å–æ–≤–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ: "–ú—É–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ —Å–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫"

Scenario: –ö–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç –Ω–µ–ø–æ–Ω—è—Ç–Ω—É—é —Ñ—Ä–∞–∑—É: "–∞–±—Ä–∞–∫–∞–¥–∞–±—Ä–∞"
  When confidence <50% –∏–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
  Then –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ: "–ù–µ –ø–æ–Ω—è–ª, –ø–æ–≤—Ç–æ—Ä–∏ –∫–æ–º–∞–Ω–¥—É"
  And –≥–æ–ª–æ—Å–æ–≤–æ–µ: "–ù–µ –ø–æ–Ω—è–ª, –ø–æ–≤—Ç–æ—Ä–∏"
  And –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É:
    """
    –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
    ‚Ä¢ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥
    ‚Ä¢ –ü—Ä–µ–¥—ã–¥—É—â–∏–π —à–∞–≥
    ‚Ä¢ –ü–æ–≤—Ç–æ—Ä–∏
    ‚Ä¢ –ü–æ—Å—Ç–∞–≤—å —Ç–∞–π–º–µ—Ä –Ω–∞ [X] –º–∏–Ω—É—Ç
    """

Scenario: –ì–æ–ª–æ—Å–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
  Given Web Speech API –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —è–∑—ã–∫: "ru-RU"
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç
  Then —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫

Scenario: –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ (privacy)
  Given –º–∏–∫—Ä–æ—Ñ–æ–Ω –∞–∫—Ç–∏–≤–µ–Ω
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç üé§ —Å–Ω–æ–≤–∞
  Then –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
  And –ø–æ–∫–∞–∑–∞—Ç—å: "–ú–∏–∫—Ä–æ—Ñ–æ–Ω –≤—ã–∫–ª—é—á–µ–Ω"
```

**Technical Notes:**
- Web Speech API: `SpeechRecognition` (Chrome, Safari, Edge)
- Fallback: Telegram Voice Messages ‚Üí speech-to-text API
- TTS (Text-to-Speech): `SpeechSynthesis` API (–±—Ä–∞—É–∑–µ—Ä–Ω—ã–π) –∏–ª–∏ Google TTS API
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —è–∑—ã–∫: ru-RU
- –¢–æ—á–Ω–æ—Å—Ç—å: >90% –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∫–æ–º–∞–Ω–¥

**Supported Commands (Priority Order):**
1. "–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥" (next)
2. "–ü—Ä–µ–¥—ã–¥—É—â–∏–π —à–∞–≥" (previous)
3. "–ü–æ–≤—Ç–æ—Ä–∏" (repeat current step)
4. "–ü–æ–≤—Ç–æ—Ä–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã" (list ingredients)
5. "–ü–æ—Å—Ç–∞–≤—å —Ç–∞–π–º–µ—Ä –Ω–∞ [X] –º–∏–Ω—É—Ç" (set timer)
6. "–î–æ–±–∞–≤—å [–ø—Ä–æ–¥—É–∫—Ç] –≤ —Å–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫" (add to shopping list)
7. "–°—Ç–æ–ø" / "–ü–∞—É–∑–∞" (pause timer)
8. "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å" (resume timer)

**UI Mockup (Voice Active):**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üé§ –°–ª—É—à–∞—é...                ‚îÇ
‚îÇ ÔΩûÔΩûÔΩûÔΩûÔΩûÔΩûÔΩûÔΩûÔΩûÔΩûÔΩû        ‚îÇ
‚îÇ                             ‚îÇ
‚îÇ –®–∞–≥ 3 –∏–∑ 8                  ‚îÇ
‚îÇ –û–±–∂–∞—Ä—å –∫—É—Ä–∏—Ü—É 15 –º–∏–Ω—É—Ç      ‚îÇ
‚îÇ                             ‚îÇ
‚îÇ [Floating Mic Button: üé§]   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## Epic 4: –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è

### US-010: –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ä–µ—Ü–µ–ø—Ç–∞ –ø–æ–¥ –¥–∏–µ—Ç—É

*(Acceptance Criteria —É–∂–µ –ø–æ–∫—Ä—ã—Ç–æ –≤ US-005, –Ω–æ –¥—É–±–ª–∏—Ä—É—é –¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã)*

**Story ID:** US-010
**Priority:** Must-Have
**Estimate:** 3 SP

**User Story:**
```
As –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ –¥–∏–µ—Ç–µ
I want –ø–æ–ª—É—á–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–¥ –º–æ—é –¥–∏–µ—Ç—É
So that –Ω–µ –Ω–∞—Ä—É—à–∞—Ç—å –¥–∏–µ—Ç—É
```

**Acceptance Criteria:**

```gherkin
Scenario: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è (–¥–∏–µ—Ç–∞ –≤ –ø—Ä–æ—Ñ–∏–ª–µ)
  Given –¥–∏–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: "–ö–µ—Ç–æ"
  When LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ—Ü–µ–ø—Ç
  Then –∏—Å–∫–ª—é—á–∏—Ç—å –≤—ã—Å–æ–∫–æ—É–≥–ª–µ–≤–æ–¥–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã (–∫–∞—Ä—Ç–æ—Ñ–µ–ª—å, —Ö–ª–µ–±, —Å–∞—Ö–∞—Ä)
  And –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –Ω–∏–∑–∫–æ—É–≥–ª–µ–≤–æ–¥–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
  And —É–≥–ª–µ–≤–æ–¥—ã <10–≥ –Ω–∞ –ø–æ—Ä—Ü–∏—é
  And –ø–æ–∫–∞–∑–∞—Ç—å badge: "ü•ì –ö–µ—Ç–æ"

Scenario: –¢–æ–ø-10 –¥–∏–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
  Given —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–∏–µ—Ç—ã:
    1. –°—Ä–µ–¥–∏–∑–µ–º–Ω–æ–º–æ—Ä—Å–∫–∞—è
    2. DASH
    3. –ö–µ—Ç–æ
    4. –í–µ–≥–∞–Ω—Å–∫–∞—è
    5. –ü–∞–ª–µ–æ
    6. –ë–µ–∑–≥–ª—é—Ç–µ–Ω–æ–≤–∞—è
    7. –ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–µ –≥–æ–ª–æ–¥–∞–Ω–∏–µ (16/8)
    8. –§–ª–µ–∫—Å–∏—Ç–∞—Ä–∏–∞–Ω—Å–∫–∞—è
    9. MIND
    10. –ù–∏–∑–∫–æ—É–≥–ª–µ–≤–æ–¥–Ω–∞—è
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –ª—é–±—É—é –∏–∑ —Ç–æ–ø-10
  Then LLM –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç —Ä–µ—Ü–µ–ø—Ç –ø–æ–¥ –≤—ã–±—Ä–∞–Ω–Ω—É—é –¥–∏–µ—Ç—É

Scenario: –ö–∞—Å—Ç–æ–º–Ω–∞—è –¥–∏–µ—Ç–∞ (–Ω–µ –∏–∑ —Ç–æ–ø-10)
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤—ë–ª "–ë–µ–∑–ª–∞–∫—Ç–æ–∑–Ω–∞—è" (custom)
  When LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ—Ü–µ–ø—Ç
  Then –∏—Å–∫–ª—é—á–∏—Ç—å –º–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã —Å –ª–∞–∫—Ç–æ–∑–æ–π
  And –ø–æ–∫–∞–∑–∞—Ç—å badge: "ü•õ –ë–µ–∑–ª–∞–∫—Ç–æ–∑–Ω–∞—è"

Scenario: –°–º–µ–Ω–∞ –¥–∏–µ—Ç—ã (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–∫–ª—é—á–∏–ª –¥–∏–µ—Ç—É)
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã–ª –Ω–∞ "–í–µ–≥–∞–Ω"
  When –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ "–ö–µ—Ç–æ" —á–µ—Ä–µ–∑ /settings
  Then –≤—Å–µ –Ω–æ–≤—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ–¥ "–ö–µ—Ç–æ"
  And —Å—Ç–∞—Ä—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã (–∏—Å—Ç–æ—Ä–∏—è) –æ—Å—Ç–∞—é—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å (—Å –ø–æ–º–µ—Ç–∫–æ–π "–í–µ–≥–∞–Ω")
```

---

### US-011: –†–∞—Å—á—ë—Ç –ö–ë–ñ–£

**Story ID:** US-011
**Priority:** Should-Have
**Estimate:** 2 SP

**User Story:**
```
As –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
I want –≤–∏–¥–µ—Ç—å –∫–∞–ª–æ—Ä–∏–∏ –∏ –º–∞–∫—Ä–æ–Ω—É—Ç—Ä–∏–µ–Ω—Ç—ã –¥–ª—è —Ä–µ—Ü–µ–ø—Ç–∞
So that –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø–∏—Ç–∞–Ω–∏–µ
```

**Acceptance Criteria:**

```gherkin
Scenario: –ö–ë–ñ–£ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Ä–µ—Ü–µ–ø—Ç–∞
  Given LLM —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª —Ä–µ—Ü–µ–ø—Ç
  Then —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –ö–ë–ñ–£ –Ω–∞ 1 –ø–æ—Ä—Ü–∏—é:
    - –ö–∞–ª–æ—Ä–∏–∏ (–∫–∫–∞–ª)
    - –ë–µ–ª–∫–∏ (–≥)
    - –ñ–∏—Ä—ã (–≥)
    - –£–≥–ª–µ–≤–æ–¥—ã (–≥)
  And –ø–æ–∫–∞–∑–∞—Ç—å –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Ä–µ—Ü–µ–ø—Ç–∞

Scenario: –ö–ë–ñ–£ –≤ WebApp (–¥–µ—Ç–∞–ª—å–Ω–æ)
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ WebApp
  Then –ø–æ–∫–∞–∑–∞—Ç—å —Å–µ–∫—Ü–∏—é "–ü–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å":
    """
    üìä –ù–∞ 1 –ø–æ—Ä—Ü–∏—é:
    –ö–∞–ª–æ—Ä–∏–∏: 450 –∫–∫–∞–ª
    –ë–µ–ª–∫–∏: 40–≥ (35%)
    –ñ–∏—Ä—ã: 25–≥ (50%)
    –£–≥–ª–µ–≤–æ–¥—ã: 8–≥ (15%)

    [–ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –ë/–ñ/–£]
    """

Scenario: –ü–µ—Ä–µ—Å—á—ë—Ç –ö–ë–ñ–£ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–æ—Ä—Ü–∏–π
  Given –ö–ë–ñ–£ –Ω–∞ 1 –ø–æ—Ä—Ü–∏—é: 450 –∫–∫–∞–ª
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω—è–µ—Ç –ø–æ—Ä—Ü–∏–∏: 2 ‚Üí 4
  Then –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å:
    - –ö–∞–ª–æ—Ä–∏–∏: 450 √ó 4 = 1800 –∫–∫–∞–ª (–Ω–∞ –≤—Å–µ 4 –ø–æ—Ä—Ü–∏–∏)
    - –ò–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å "–ù–∞ 1 –ø–æ—Ä—Ü–∏—é: 450 –∫–∫–∞–ª" (–Ω–µ –º–µ–Ω—è–µ—Ç—Å—è)

Scenario: Disclaimer
  Given —Å–µ–∫—Ü–∏—è –ö–ë–ñ–£
  Then –ø–æ–∫–∞–∑–∞—Ç—å disclaimer:
    "‚ö†Ô∏è –î–∞–Ω–Ω—ã–µ –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–µ. –î–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–¥—Å—á—ë—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π –∫—É—Ö–æ–Ω–Ω—ã–µ –≤–µ—Å—ã."
```

---

## Epic 5: Shopping List & Delivery

### US-012: –°–ø–∏—Å–æ–∫ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤

**Story ID:** US-012
**Priority:** Should-Have
**Estimate:** 3 SP

**User Story:**
```
As –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
I want –≤–∏–¥–µ—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ
So that –∑–Ω–∞—Ç—å —á—Ç–æ –¥–æ–∫—É–ø–∏—Ç—å
```

**Acceptance Criteria:**

```gherkin
Scenario: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
  Given —Ä–µ—Ü–µ–ø—Ç —Ç—Ä–µ–±—É–µ—Ç: ["–ö—É—Ä–∏—Ü–∞", "–ú–æ—Ä–∫–æ–≤—å", "–õ—É–∫", "–†–∏—Å", "–°–æ–ª—å"]
  And –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ: ["–ö—É—Ä–∏—Ü–∞", "–ú–æ—Ä–∫–æ–≤—å"]
  When LLM –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ
  Then –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ: ["–õ—É–∫", "–†–∏—Å", "–°–æ–ª—å"]

Scenario: –ü–æ–∫–∞–∑ —Å–ø–∏—Å–∫–∞ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö
  Given –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ WebApp
  Then –ø–æ–∫–∞–∑–∞—Ç—å —Å–µ–∫—Ü–∏—é "–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫":
    """
    üõí –ù—É–∂–Ω–æ –¥–æ–∫—É–ø–∏—Ç—å:

    ‚òê –õ—É–∫ ‚Äî 1 —à—Ç
    ‚òê –†–∏—Å ‚Äî 100–≥
    ‚òê –°–æ–ª—å ‚Äî –ø–æ –≤–∫—É—Å—É

    [–ó–∞–∫–∞–∑–∞—Ç—å –≤ –°–±–µ—Ä–ú–∞—Ä–∫–µ—Ç] [–ó–∞–∫–∞–∑–∞—Ç—å –≤ –õ–∞–≤–∫–µ]
    """

Scenario: –ù–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
  Given —Ä–µ—Ü–µ–ø—Ç —Ç—Ä–µ–±—É–µ—Ç: ["–ö—É—Ä–∏—Ü–∞", "–ú–æ—Ä–∫–æ–≤—å"]
  And –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ: ["–ö—É—Ä–∏—Ü–∞", "–ú–æ—Ä–∫–æ–≤—å", "–õ—É–∫"]
  When –ø—Ä–æ–≤–µ—Ä–∫–∞
  Then –ø–æ–∫–∞–∑–∞—Ç—å: "–£ —Ç–µ–±—è –≤—Å—ë –µ—Å—Ç—å! üéâ"
  And –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–µ–∫—Ü–∏—é "–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫"

Scenario: –†—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Å–ø–∏—Å–æ–∫
  Given —Å–µ–∫—Ü–∏—è "–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫"
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "+ –î–æ–±–∞–≤–∏—Ç—å"
  Then –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ
  When –≤–≤–æ–¥–∏—Ç "–ú—É–∫–∞, –Ø–π—Ü–∞"
  Then –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫:
    - –ú—É–∫–∞
    - –Ø–π—Ü–∞
  And –æ–±–Ω–æ–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é
```

---

### US-013: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–æ—Å—Ç–∞–≤–∫–∞–º–∏ (Deep Link)

**Story ID:** US-013
**Priority:** Should-Have
**Estimate:** 5 SP
**Dependencies:** –î–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç—å —Å –°–±–µ—Ä–ú–∞—Ä–∫–µ—Ç/–õ–∞–≤–∫–æ–π

**User Story:**
```
As –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
I want –∑–∞–∫–∞–∑–∞—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã –≤ 1 –∫–ª–∏–∫
So that –Ω–µ –∏–¥—Ç–∏ –≤ –º–∞–≥–∞–∑–∏–Ω
```

**Acceptance Criteria:**

```gherkin
Scenario: –ö–ª–∏–∫ –Ω–∞ "–ó–∞–∫–∞–∑–∞—Ç—å –≤ –°–±–µ—Ä–ú–∞—Ä–∫–µ—Ç" (deep link)
  Given —Å–ø–∏—Å–æ–∫ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö: ["–õ—É–∫", "–†–∏—Å", "–°–æ–ª—å"]
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ó–∞–∫–∞–∑–∞—Ç—å –≤ –°–±–µ—Ä–ú–∞—Ä–∫–µ—Ç"
  Then:
    1. –û—Ç–∫—Ä—ã—Ç—å deep link: `sbermarket://search?query=–ª—É–∫,—Ä–∏—Å,—Å–æ–ª—å`
    2. –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ ‚Üí –æ—Ç–∫—Ä—ã—Ç—å web: `https://sbermarket.ru/search?q=–ª—É–∫,—Ä–∏—Å,—Å–æ–ª—å`
  And –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ: delivery_link_clicked (sbermarket)

Scenario: Deep link —Å –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ—Ä–∑–∏–Ω—ã (–µ—Å–ª–∏ API –¥–æ—Å—Ç—É–ø–µ–Ω)
  Given API –°–±–µ—Ä–ú–∞—Ä–∫–µ—Ç–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ó–∞–∫–∞–∑–∞—Ç—å"
  Then –≤—ã–∑–≤–∞—Ç—å API: POST /cart/add
    Body: [{"name": "–õ—É–∫", "quantity": 1}, ...]
  And –æ—Ç–∫—Ä—ã—Ç—å deep link –∫ –∫–æ—Ä–∑–∏–Ω–µ: `sbermarket://cart`

Scenario: Fallback (–µ—Å–ª–∏ API –Ω–µ—Ç)
  Given API –°–±–µ—Ä–ú–∞—Ä–∫–µ—Ç–∞ –ù–ï –¥–æ—Å—Ç—É–ø–µ–Ω
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ó–∞–∫–∞–∑–∞—Ç—å"
  Then:
    1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤ clipboard: "–õ—É–∫ ‚Äî 1 —à—Ç\n–†–∏—Å ‚Äî 100–≥\n–°–æ–ª—å ‚Äî –ø–æ –≤–∫—É—Å—É"
    2. –ü–æ–∫–∞–∑–∞—Ç—å toast: "–°–ø–∏—Å–æ–∫ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω! –í—Å—Ç–∞–≤—å –≤ –°–±–µ—Ä–ú–∞—Ä–∫–µ—Ç"
    3. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –°–±–µ—Ä–ú–∞—Ä–∫–µ—Ç

Scenario: Tracking –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏—Ö –∑–∞–∫–∞–∑–æ–≤
  Given –≤ deep link –ø–µ—Ä–µ–¥–∞–Ω referral parameter: `?ref=vkusrobot_user123`
  When –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≤–µ—Ä—à–∞–µ—Ç –∑–∞–∫–∞–∑
  Then –°–±–µ—Ä–ú–∞—Ä–∫–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç webhook: –∑–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω
  And —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ: partner_order_completed
  And –Ω–∞—á–∏—Å–ª–∏—Ç—å –∫–æ–º–∏—Å—Å–∏—é (3-5% –æ—Ç —Å—É–º–º—ã –∑–∞–∫–∞–∑–∞)
```

**Technical Notes:**
- Deep links: iOS (Universal Links), Android (App Links)
- Referral tracking: UTM parameters –∏–ª–∏ custom referral ID
- Webhook: endpoint `/api/webhooks/sbermarket` –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∑–∞–∫–∞–∑–∞—Ö

---

## Epic 6: History & Collections

### US-014: –ò—Å—Ç–æ—Ä–∏—è —Ä–µ—Ü–µ–ø—Ç–æ–≤

**Story ID:** US-014
**Priority:** Should-Have
**Estimate:** 3 SP

**User Story:**
```
As –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
I want –≤–∏–¥–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤
So that –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —É—Å–ø–µ—à–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç
```

**Acceptance Criteria:**

```gherkin
Scenario: –ö–æ–º–∞–Ω–¥–∞ /history
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª 5 —Ä–µ—Ü–µ–ø—Ç–æ–≤ —Ä–∞–Ω–µ–µ
  When –≤–≤–æ–¥–∏—Ç /history
  Then –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Ä–µ—Ü–µ–ø—Ç–æ–≤ (reverse chronological):
    """
    üìú –¢–≤–æ—è –∏—Å—Ç–æ—Ä–∏—è:

    üçó –ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ —Å –æ–≤–æ—â–∞–º–∏
    üïê –í—á–µ—Ä–∞, 19:30
    [–û—Ç–∫—Ä—ã—Ç—å]

    üçù –ü–∞—Å—Ç–∞ —Å —Ç–æ–º–∞—Ç–Ω—ã–º —Å–æ—É—Å–æ–º
    üïê 3 –¥–Ω—è –Ω–∞–∑–∞–¥
    [–û—Ç–∫—Ä—ã—Ç—å]

    ...
    """
  And –∫–Ω–æ–ø–∫–∞ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë" (pagination)

Scenario: –û—Ç–∫—Ä—ã—Ç–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∏—Å—Ç–æ—Ä–∏—é
  When –Ω–∞–∂–∏–º–∞–µ—Ç "–û—Ç–∫—Ä—ã—Ç—å" –Ω–∞ —Ä–µ—Ü–µ–ø—Ç–µ
  Then –æ—Ç–∫—Ä—ã—Ç—å WebApp —Å —ç—Ç–∏–º —Ä–µ—Ü–µ–ø—Ç–æ–º
  And –ø–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É "–ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å —Å–Ω–æ–≤–∞ üîÑ"

Scenario: –ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å —Å–Ω–æ–≤–∞
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–ª —Ä–µ—Ü–µ–ø—Ç –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
  When –Ω–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å —Å–Ω–æ–≤–∞"
  Then —Å—Ä–∞–∑—É –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–µ–∫—Ü–∏–∏ "–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ" (skip –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã)
  And –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å: recipe_repeated
```

---

### US-015: –ò–∑–±—Ä–∞–Ω–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã

**Story ID:** US-015
**Priority:** Should-Have
**Estimate:** 2 SP

**User Story:**
```
As –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
I want —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ª—é–±–∏–º—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
So that –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –∏—Ö –ø–æ–∑–∂–µ
```

**Acceptance Criteria:**
```gherkin
Scenario: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ WebApp (—Ä–µ—Ü–µ–ø—Ç –æ—Ç–∫—Ä—ã—Ç)
  When –Ω–∞–∂–∏–º–∞–µ—Ç "‚≠ê –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"
  Then —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ—Ü–µ–ø—Ç –≤ favorites (–ë–î)
  And –∫–Ω–æ–ø–∫–∞ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "‚≠ê –£–±—Ä–∞—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ"
  And –ø–æ–∫–∞–∑–∞—Ç—å toast: "–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"

Scenario: –ö–æ–º–∞–Ω–¥–∞ /favorites
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–∏–ª 3 —Ä–µ—Ü–µ–ø—Ç–∞ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
  When –≤–≤–æ–¥–∏—Ç /favorites
  Then –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫:
    """
    ‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ:

    üçó –ö—É—Ä–∏–Ω–æ–µ —Ñ–∏–ª–µ —Å –æ–≤–æ—â–∞–º–∏
    [–û—Ç–∫—Ä—ã—Ç—å]

    üçù –ü–∞—Å—Ç–∞ —Å —Ç–æ–º–∞—Ç–Ω—ã–º —Å–æ—É—Å–æ–º
    [–û—Ç–∫—Ä—ã—Ç—å]
    """

Scenario: –õ–∏–º–∏—Ç –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ (Free tier)
  Given –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ Free tier
  And —É–∂–µ –¥–æ–±–∞–≤–∏–ª 50 —Ä–µ—Ü–µ–ø—Ç–æ–≤ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
  When –ø—ã—Ç–∞–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å 51-–π
  Then –ø–æ–∫–∞–∑–∞—Ç—å paywall:
    """
    ‚≠ê –õ–∏–º–∏—Ç –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ: 50 —Ä–µ—Ü–µ–ø—Ç–æ–≤

    Upgrade to Premium –¥–ª—è –±–µ–∑–ª–∏–º–∏—Ç–∞!

    [Upgrade üíé]
    """
```

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: Product Agent | –î–∞—Ç–∞: 2026-02-04*
